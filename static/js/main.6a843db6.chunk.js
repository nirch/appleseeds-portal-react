(this["webpackJsonpappleseeds-portal-react"]=this["webpackJsonpappleseeds-portal-react"]||[]).push([[0],{100:function(e,t){var a=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,r=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(l,c,o){var i=a;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(l)||/\d/.test(l)||(c=l,l=void 0),l=l?new Date(l):new Date,isNaN(l))throw SyntaxError("invalid date");"UTC:"==(c=String(i.masks[c]||c||i.masks.default)).slice(0,4)&&(c=c.slice(4),o=!0);var s=o?"getUTC":"get",u=l[s+"Date"](),m=l[s+"Day"](),d=l[s+"Month"](),p=l[s+"FullYear"](),f=l[s+"Hours"](),E=l[s+"Minutes"](),h=l[s+"Seconds"](),b=l[s+"Milliseconds"](),v=o?0:l.getTimezoneOffset(),g={d:u,dd:r(u),ddd:i.i18n.dayNames[m],dddd:i.i18n.dayNames[m+7],m:d+1,mm:r(d+1),mmm:i.i18n.monthNames[d],mmmm:i.i18n.monthNames[d+12],yy:String(p).slice(2),yyyy:p,h:f%12||12,hh:r(f%12||12),H:f,HH:r(f),M:E,MM:r(E),s:h,ss:r(h),l:r(b,3),L:r(b>99?Math.round(b/10):b),t:f<12?"a":"p",tt:f<12?"am":"pm",T:f<12?"A":"P",TT:f<12?"AM":"PM",Z:o?"UTC":(String(l).match(t)||[""]).pop().replace(n,""),o:(v>0?"-":"+")+r(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][u%10>3?0:(u%100-u%10!=10)*u%10]};return c.replace(e,(function(e){return e in g?g[e]:e.slice(1,e.length-1)}))}}();a.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},a.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(e,t){return a(this,e,t)}},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),o=(a(59),a(60),a(1)),i=(a(61),a(15)),s=a(25),u=a(44),m=(a(62),a(4)),d=a.n(m),p=a(8),f=a(41),E=a.n(f);function h(){return(h=Object(p.a)(d.a.mark((function e(t,a,n){var r,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 2.3,"https://pil1.appleseeds.org.il/dcnir/server/","https://pil1.appleseeds.org.il/dcnir/",a.token=t?t.token:void 0,a.v=2.3,r={method:"post",url:"https://pil1.appleseeds.org.il/dcnir/server/datagate.php?type="+n,data:JSON.stringify(a),headers:{"Content-Type":void 0}},e.next=8,E()(r);case 8:return l=e.sent,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(e,t,a){return h.apply(this,arguments)},v=r.a.createContext(null),g=(a(81),function(e){var t=e.type,a=e.p_Text,n=e.handleClose,l="error"===t?{color:"#ffa1a1"}:{color:"rgb(37,183,211)"},c="error"===t?"drawable-hdpi/noun_error_1156903.png":"drawable-hdpi/icons8-info-39.png";return r.a.createElement("div",{className:"c_showalert"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:c})),r.a.createElement("p",{style:l},a)),r.a.createElement("a",{onClick:n},"\xd7"))}),j=function(e){var t,a=e.handleLogin,l=Object(n.useState)(""),c=Object(o.a)(l,2),m=c[0],d=c[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),E=f[0],h=f[1],j=Object(n.useState)(""),O=Object(o.a)(j,2),y=O[0],N=O[1],k=Object(n.useContext)(v);if(k)return r.a.createElement(i.a,{to:"/courses"});var S=""===E?"errorlogin errorhide":"errorlogin";return r.a.createElement(u.a,{className:"p-login"},r.a.createElement("img",{src:"drawable-hdpi/01.png"}),r.a.createElement("form",{onSubmit:function(e){(e.preventDefault(),m&&y)?b(null,{email:m,pass:y},"login").then((function(e){console.log(e),e.data.error?h("\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d0\u05d5 \u05e1\u05d9\u05e1\u05de\u05d4 \u05e9\u05d2\u05d5\u05d9\u05d9\u05dd"):a(e.data)}),(function(e){h("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05e8\u05ea, \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1 \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8"),console.error(e)})):h("\u05e0\u05d0 \u05dc\u05d4\u05d6\u05d9\u05df \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05d5\u05e1\u05d9\u05e1\u05de\u05d4")},noValidate:!0},r.a.createElement("div",{className:"loginbutton"},r.a.createElement("input",{value:m,type:"email",placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",onChange:function(e){return function(e){d(e.target.value),""!=E&&h("")}(e)}})),r.a.createElement("div",{className:"loginbutton"},r.a.createElement("input",(t={value:y,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0",type:"password"},Object(s.a)(t,"placeholder","\u05e1\u05d9\u05e1\u05de\u05d4"),Object(s.a)(t,"onChange",(function(e){return function(e){N(e.target.value),""!=E&&h("")}(e)})),t))),r.a.createElement("div",{className:"loginbutton"},r.a.createElement("button",{type:"submit"},"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"))),r.a.createElement("div",{className:S},r.a.createElement(g,{type:"error",p_Text:E,handleClose:function(){h("")}})))},O=(a(39),a(10)),y=a(6),N=(a(87),function(e){var t=e.handleLogout,a=e.handleBack,l=e.navbarTitle,c=e.navbarArrow,i=Object(n.useContext)(v),s=Object(n.useState)(!1),m=Object(o.a)(s,2),f=m[0],E=m[1],h=Object(n.useState)(!1),g=Object(o.a)(h,2),j=g[0],N=g[1],k=Object(n.useState)({}),S=Object(o.a)(k,2),w=S[0],C=S[1];Object(n.useEffect)((function(){i&&function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(i,{firstname:"",lastname:"",image:"",email:"",userid:""},"GetMyProfile").then((function(e){console.log(e),C(e.data),e.data.error&&alert("error recieving courses data")}),(function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[i]);var T=w.firstname+" "+w.lastname,x=w.image,M="https://pil1.appleseeds.org.il/dcnir/"+x,D=j?"sidebar-open":"",P=f?"showHide showUsersTypes":"showHide",L=f?"iconDown iconUp":"iconDown",H=r.a.createElement("div",{className:"menu-icon",onClick:function(){N(!j)}},r.a.createElement("div",{className:"hamburger-menu"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),A=r.a.createElement("div",{className:"menu-icon",onClick:function(){a()}},r.a.createElement("div",{class:"arrow-back",o:!0},r.a.createElement("div",{class:"arrow1"}),r.a.createElement("div",{class:"arrow2"}),r.a.createElement("div",{class:"arrow3"}))),_=c?A:H,G=x?M:"images/profile_icon.png",U="#/users/"+w.userid;return r.a.createElement("div",{className:"c-navbar"},r.a.createElement("div",{className:"menuTitleFlex"},r.a.createElement("div",{className:"menuTitle"},l)),r.a.createElement("div",{className:"menu-icon-wrap"},r.a.createElement("div",null,_),r.a.createElement("div",{className:D},r.a.createElement("div",{className:"sidebar-background",onClick:function(){N(!j)}}),r.a.createElement("div",{className:"sidebar-wrap"},r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"sidebar-options"},r.a.createElement(u.a,null,r.a.createElement(O.a,null,r.a.createElement("div",{className:"sidebar-closebtn"},r.a.createElement("img",{alt:"",className:"closebtn",src:"images/close_x_white.svg",onClick:function(){N(!j)}}))),r.a.createElement(O.a,null,r.a.createElement("div",{className:"sidebar-header"},r.a.createElement("img",{alt:"",className:"appleseeds-logo",src:"images/bg_logo.png"}))),r.a.createElement("div",{className:"sidebar-username"},r.a.createElement("a",{href:U,onClick:function(){N(!j)}},r.a.createElement(O.a,{className:"flexalign"},r.a.createElement(y.a,{className:"flex",xs:3},r.a.createElement("img",{alt:"",className:"profile-image",src:G})),r.a.createElement(y.a,{xs:9},r.a.createElement("div",{className:"name-wrap"},r.a.createElement("span",{className:"user-name"},T)))))),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{onClick:function(){E(!f)}},r.a.createElement(O.a,{className:"flexalign"},r.a.createElement(y.a,{className:"flex",xs:3},r.a.createElement("img",{alt:"",className:"icon1",src:"images/noun_user.png"})),r.a.createElement(y.a,{xs:7},r.a.createElement("div",{className:"menu-information"},"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd")),r.a.createElement(y.a,{xs:2},r.a.createElement("img",{alt:"",id:"arrow",className:L,src:"images/arrow_down.png"})))),r.a.createElement("div",{className:P},r.a.createElement(O.a,{className:"usersTypes"},r.a.createElement(y.a,{xs:3}),r.a.createElement(y.a,{xs:9},r.a.createElement("a",{className:"menu-information",href:"#/users?staff",onClick:function(){N(!j)}},"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd"))),r.a.createElement(O.a,{className:"usersTypes"},r.a.createElement(y.a,{xs:3}),r.a.createElement(y.a,{xs:9},r.a.createElement("a",{className:"menu-information",href:"#/users?students",onClick:function(){N(!j)}},"\u05d7\u05e0\u05d9\u05db\u05d9\u05dd"))),r.a.createElement(O.a,{className:"usersTypes"},r.a.createElement(y.a,{xs:3}),r.a.createElement(y.a,{xs:9},r.a.createElement("a",{className:"menu-information",href:"#/users?newUsers",onClick:function(){N(!j)}},"\u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05d7\u05d3\u05e9\u05d9\u05dd")))),r.a.createElement("div",{className:"divider"}),r.a.createElement(O.a,null,r.a.createElement(y.a,{className:"flex",xs:3},r.a.createElement("img",{alt:"",className:"icon2",src:"images/noun_book.png"})),r.a.createElement(y.a,{xs:9},r.a.createElement("a",{className:"menu-information",href:"#/courses",onClick:function(){N(!j)}},"\u05e7\u05d5\u05e8\u05e1\u05d9\u05dd"))),r.a.createElement("div",{className:"divider"}),r.a.createElement(O.a,null,r.a.createElement(y.a,{className:"flex",xs:3},r.a.createElement("img",{alt:"",className:"icon3",src:"images/noun_time.png"})),r.a.createElement(y.a,{xs:9},r.a.createElement("a",{className:"menu-information",href:"#/hours-report",onClick:function(){N(!j)}},"\u05d3\u05d9\u05d5\u05d5\u05d7 \u05e9\u05e2\u05d5\u05ea"))),r.a.createElement("div",{className:"divider"}),r.a.createElement(O.a,null,r.a.createElement(y.a,{className:"flex",xs:3},r.a.createElement("img",{alt:"",className:"icon4",src:"images/noun_check_box.png"})),r.a.createElement(y.a,{xs:9},r.a.createElement("a",{className:"menu-information",href:"#/hours-approve",onClick:function(){N(!j)}},"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05e9\u05e2\u05d5\u05ea"))),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"sidebar-logout"},r.a.createElement(O.a,null,r.a.createElement(y.a,{className:"flex",xs:3},r.a.createElement("img",{alt:"",className:"icon5",src:"images/noun_off.png"})),r.a.createElement(y.a,{xs:9},r.a.createElement("a",{className:"menu-information",href:"#",onClick:t},"\u05d4\u05ea\u05e0\u05ea\u05e7\u05d5\u05ea")))))))))))}),k=(a(88),function(e){var t=e.placeholder,a=e.pages,l=e.handleSearch,c=e.pageChange,i=e.currentPage,s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],d=u[1],p=["prev-page"];0===i&&p.push("disabled");var f=["prev-page"];i===a&&f.push("disabled");var E=a&&a>1?r.a.createElement("div",{className:"absolute"},r.a.createElement("div",{className:"page-indicator"},r.a.createElement("img",{alt:"Previous Page",src:"images/arrow-right.png",className:p.join(" "),onClick:function(){i>0&&c(i-1)}}),r.a.createElement("div",{className:"currPage"},i+1),r.a.createElement("img",{alt:"Next Page",src:"images/arrow-left.png",className:f.join(" "),onClick:function(){i<a&&c(i+1)}}))):null;return r.a.createElement("div",{className:"c-search"},r.a.createElement("div",{className:"search-comp"},r.a.createElement("input",{className:"search-input",value:m,type:"text",placeholder:t,onChange:function(e){return d(e.target.value)},onKeyDown:function(e){return function(e){13===e.keyCode&&l(m)}(e)}}),E))}),S=a(46),w=a(47),C=a(52),T=a(49),x=a(53),M=(a(89),function(e){function t(e){return Object(S.a)(this,t),Object(C.a)(this,Object(T.a)(t).call(this,e))}return Object(x.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.headers,a=e.data,n=e.handleClick;if(!t||!a)return null;for(var l=[],c=0;c<t.length;c++)l.push(r.a.createElement("th",{key:c},t[c].header));for(var o=[],i=function(e){for(var l=[],c=0;c<t.length;c++){var i=void 0;i=a[e][t[c].key]?r.a.createElement("td",{key:c},a[e][t[c].key]):r.a.createElement("td",{key:c}),l.push(i)}o.push(r.a.createElement("tr",{key:e,className:"tableRow",onClick:function(){return n(a[e])}},l))},s=0;s<a.length;s++)i(s);return r.a.createElement("table",{className:"mainTable"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"headerRow"},l)),r.a.createElement("tbody",null,o))}}]),t}(n.Component)),D=(a(90),a(113)),P=function(e){var t=e.buttons,a=e.handleClick,n=e.activeKey,l=t.map((function(e){var t=n===e.key?" active":"";return r.a.createElement(y.a,{className:"c-buttonCol"},r.a.createElement(D.a,{key:e.key,type:"button",className:"btn"+t,variant:"transparent",bg:"white",onClick:function(){return a(e)}},e.label))}));return r.a.createElement(u.a,{className:"c-portalButtonSet",fluid:!0},r.a.createElement(O.a,{className:"justify-content-md-center"},l))},L=function(e){var t=e.handleLogout,a=Object(n.useContext)(v),l=Object(n.useState)(1),c=Object(o.a)(l,2),s=c[0],u=c[1],m=Object(n.useState)(""),f=Object(o.a)(m,2),E=f[0],h=f[1],g=Object(n.useState)(""),j=Object(o.a)(g,2),O=j[0],y=j[1],S=Object(n.useState)(0),w=Object(o.a)(S,2),C=w[0],T=w[1],x=Object(n.useState)([]),D=Object(o.a)(x,2),L=D[0],H=D[1],A=Object(n.useState)(0),_=Object(o.a)(A,2),G=_[0],U=_[1];if(Object(n.useEffect)((function(){a&&function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(a,{search:O,sorting:"courseid",desc:!1,coursestatus:s,page:C},"SearchCourses").then((function(e){console.log(e),H(e.data.courses),U(e.data.pages),e.data.error&&alert("error recieving courses data")}),(function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a,C,s,O]),!a)return r.a.createElement(i.a,{to:"/"});var I="/courses/"+E;if(E)return r.a.createElement(i.a,{to:I});return r.a.createElement("div",{className:"p-courses"},r.a.createElement(N,{navbarTitle:"\u05e7\u05d5\u05e8\u05e1\u05d9\u05dd",handleLogout:t}),r.a.createElement(k,{placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05e7\u05d5\u05e8\u05e1",pages:G,currentPage:C,handleSearch:function(e){T(0),y(e)},pageChange:function(e){T(e)}}),r.a.createElement("div",{className:"table"},r.a.createElement(M,{headers:[{key:"subname",header:"\u05e9\u05dd \u05e7\u05d5\u05e8\u05e1 \u05de\u05e7\u05d5\u05e6\u05e8"},{key:"project",header:"\u05e4\u05e8\u05d5\u05d9\u05e7\u05d8"},{key:"teachers",header:"\u05de\u05d3\u05e8\u05d9\u05da"}],data:L,handleClick:function(e){h(e.courseid)}})),r.a.createElement(P,{buttons:[{key:1,label:"\u05e7\u05d5\u05e8\u05e1\u05d9\u05dd \u05e4\u05e2\u05d9\u05dc\u05d9\u05dd"},{key:0,label:"\u05dc\u05d0 \u05e4\u05e2\u05d9\u05dc\u05d9\u05dd"}],handleClick:function(e){T(0),u(e.key)},activeKey:s}))},H=(a(91),function(e){var t=e.tabsObj,a=Object(n.useState)(0),l=Object(o.a)(a,2),c=l[0],i=l[1],s=null,u=t[c].view;return t.length>0&&(s=t.map((function(e,t){var a="nav-item nav-link";return a+=c===t?" active":"",r.a.createElement("a",{className:a,"data-toggle":"tab",role:"tab","aria-controls":"nav-home","aria-selected":"true",onClick:function(){return i(t)}},e.header)}))),r.a.createElement("div",{className:"c_portalTabView"},r.a.createElement("section",{id:"tabs",class:"project-tab"},r.a.createElement("nav",null,r.a.createElement("div",{class:"nav nav-tabs nav-fill",id:"nav-tab",role:"tablist"},s)),r.a.createElement("div",{class:"tab-content",id:"nav-tabContent"},u)))}),A=a(17),_=(a(92),function(e){var t=e.inputTitle,a=e.inputPlaceholder,n=e.inputValue,l=e.handleChange;return r.a.createElement("div",{className:"c-portal-input"},r.a.createElement("label",{className:"c-portal-input-label"},t),r.a.createElement("input",{className:"c-portal-input-element",value:n,placeholder:a,onChange:function(e){l(e.target.value)}}))}),G=(a(93),function(e){var t=e.inputTitle,a=e.options,n=e.optionsKey,l=e.handleSelection,c=a.map((function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.label)})),o=r.a.createElement("span",null);return t&&(o=r.a.createElement("label",{className:"c-portal-input-select-label"},t)),r.a.createElement("div",{className:"c-portal-input-select"},o,r.a.createElement("select",{className:"c-portal-input-select-element",value:n,onChange:function(e){l(e.target.value)}},c))}),U=(a(94),a(95),function(e){var t=e.label,a=e.displaySelectList,n=e.hideSelectList,l=e.options,c=e.selectedOptions,o=e.addOption,i=e.deleteOption,s=e.deleteAllOptions,u=l.map((function(e,t){return r.a.createElement("div",{className:"select-options",eventkey:t},r.a.createElement("div",{className:"option-selected",onClick:function(){o(e)}},e.label))})),m=c.map((function(e,t){return r.a.createElement("div",{className:"option-selected-button",eventkey:t},r.a.createElement("div",{className:"option-selected-button-label"},e.label),r.a.createElement("button",{className:"option-del-btn",onClick:function(){i(t)}},"x"))})),d="";return d=n?"options-select-list":"options-select-list options-select-list-show",r.a.createElement("div",{className:"c-select"},r.a.createElement("div",{className:"c-label"},t),r.a.createElement("div",{className:"options-container"},r.a.createElement("button",{className:"show-select-list-btn",onClick:function(){a()}},"+"),r.a.createElement("div",null,r.a.createElement("div",{className:"options-select-container"},m)),r.a.createElement("button",{className:"all-options-del-btn",onClick:function(){s()}},"x")),r.a.createElement("div",{className:d},u))}),I=function(e){var t=e.courseId,a=Object(n.useState)(""),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(""),E=Object(o.a)(f,2),h=E[0],g=E[1],j=Object(n.useState)(""),N=Object(o.a)(j,2),k=N[0],S=N[1],w=Object(n.useState)([]),C=Object(o.a)(w,2),T=C[0],x=C[1],M=Object(n.useState)([]),D=Object(o.a)(M,2),P=D[0],L=D[1],H=Object(n.useState)([{value:"1",label:"\u05ea\u05d2\u05d9\u05ea 1"},{value:"2",label:"\u05ea\u05d2\u05d9\u05ea 2"},{value:"3",label:"\u05ea\u05d2\u05d9\u05ea 3"}]),I=Object(o.a)(H,2),R=I[0],F=I[1],B=Object(n.useState)(!0),J=Object(o.a)(B,2),K=J[0],Y=J[1],V=Object(n.useState)(""),Z=Object(o.a)(V,2),W=Z[0],z=Z[1],$=Object(n.useState)([]),q=Object(o.a)($,2),Q=q[0],X=q[1],ee=Object(n.useState)(""),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)([]),le=Object(o.a)(re,2),ce=le[0],oe=le[1],ie=Object(n.useState)(""),se=Object(o.a)(ie,2),ue=se[0],me=se[1],de=Object(n.useContext)(v);return Object(n.useEffect)((function(){b(de,{courseid:t},"GetCourseById").then((function(e){i(e.data.name),p(e.data.subname),g(e.data.subnameinarabic),S(e.data.projectid),z(e.data.cityid),ne(e.data.yearbudgetid),me(e.data.primaryTeacherName)})),b(de,{},"GetCities").then((function(e){var t=[];e.data.forEach((function(e){var a={key:e.cityid,value:e.name,label:e.name};t.push(a)})),X(t)})),b(de,{},"GetProjects").then((function(e){var t=[];e.data.forEach((function(e){var a={key:e.projectid,value:e.projectname,label:e.projectname,tags:e.projecttags};t.push(a)})),x(t)})),b(de,{},"GetActiveYearsBudget").then((function(e){var t=[];e.data.forEach((function(e){var a={key:e.yearbudgetid,value:e.year,label:e.year};t.push(a)})),oe(t)}))}),[]),Object(n.useEffect)((function(){if(console.log(k),T&&k){L([]);var e=T.find((function(e){return e.key===k})),t=[];e.tags.forEach((function(e){var a={value:e.projecttagid,label:e.projecttagname};t.push(a)})),F(t)}}),[k,T]),r.a.createElement(u.a,{className:"profileContainer"},r.a.createElement(O.a,{className:"profileRow"},r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05e9\u05dd \u05e7\u05d5\u05e8\u05e1 \u05de\u05dc\u05d0",inputPlaceholder:c,inputValue:c,handleChange:function(e){return i(e)}}))),r.a.createElement(O.a,{className:"profileRow"},r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05e9\u05dd \u05e7\u05d5\u05e8\u05e1 \u05de\u05e7\u05d5\u05e6\u05e8 \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea",inputPlaceholder:d,inputValue:d,handleChange:function(e){return p(e)}})),r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05e9\u05dd \u05e7\u05d5\u05e8\u05e1 \u05de\u05e7\u05d5\u05e6\u05e8 \u05d1\u05e2\u05e8\u05d1\u05d9\u05ea",inputPlaceholder:h,inputValue:h,handleChange:function(e){return g(e)}}))),r.a.createElement(O.a,{className:"profileRow"},r.a.createElement(y.a,null,r.a.createElement(G,{inputTitle:"\u05e4\u05e8\u05d5\u05d9\u05e7\u05d8",options:T,optionsKey:k,handleSelection:function(e){return S(e)}}))),r.a.createElement(O.a,{className:"profileRow"},r.a.createElement(y.a,null,r.a.createElement(U,{label:"\u05ea\u05d2\u05d9\u05d5\u05ea",displaySelectList:function(){Y(!K)},hideSelectList:K,options:R,selectedOptions:P,addOption:function(e){return function(e){L(P.concat(e));for(var t=0;t<R.length;t++)if(R[t].value===e.value){R.splice(t,1),F(R);break}Y(!1)}(e)},deleteOption:function(e){return function(e){var t=P[e],a=Object(A.a)(P);a.splice(e,1),L(a),F(R.concat(t))}(e)},deleteAllOptions:function(){return function(){var e=Object(A.a)(P);L([]),F(R.concat(e)),Y(!0)}()}}))),r.a.createElement(O.a,{className:"profileRow"},r.a.createElement(y.a,null,r.a.createElement(G,{inputTitle:"\u05e2\u05d9\u05e8",options:Q,optionsKey:W,handleSelection:function(e){return z(e)}})),r.a.createElement(y.a,null,r.a.createElement(G,{inputTitle:"\u05e9\u05e0\u05ea \u05ea\u05e7\u05e6\u05d9\u05d1",options:ce,optionsKey:ae,handleSelection:function(e){return S(e)}}))),r.a.createElement(O.a,{className:"profileRow"},r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05de\u05d3\u05e8\u05d9\u05da",inputPlaceholder:ue,inputValue:ue,handleChange:function(e){return me(e)}}))))},R=function(e){var t=e.handleLogout,a=Object(n.useContext)(v),l=Object(i.g)().id,c=[{header:"\u05e7\u05d5\u05e8\u05e1",view:r.a.createElement(I,{courseId:l})},{header:"\u05e1\u05d9\u05dc\u05d1\u05d5\u05e1",view:r.a.createElement("p",null,"I'm sylabus page")},{header:"\u05e1\u05d8\u05d5\u05d3\u05e0\u05d8\u05d9\u05dd",view:r.a.createElement("p",null,"I'm students page")},{header:"\u05de\u05d3\u05e8\u05d9\u05db\u05d9\u05dd",view:r.a.createElement("p",null,"I'm instructers page")}];return a?r.a.createElement("div",null,r.a.createElement(N,{handleLogout:t}),r.a.createElement(H,{tabsObj:c})):r.a.createElement(i.a,{to:"/"})};a(40);var F=function(e){var t=e.handleLogout,a=function(e){var t={staff:"SearchStaffUnderMe",newUsers:"SearchNewUsers",students:"SearchStudentsUnderMe"};return null==t[e]?t.staff:t[e]}(e.location.search.substring(1)),l=Object(n.useContext)(v),c=Object(n.useState)([]),s=Object(o.a)(c,2),u=s[0],m=s[1],f=Object(n.useState)(0),E=Object(o.a)(f,2),h=E[0],g=E[1],j=Object(n.useState)([{key:"userid",header:"\u05de\u05e1' \u05de\u05d6\u05d4\u05d4"},{key:"firstname",header:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"},{key:"lastname",header:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"},{key:"email",header:'\u05d3\u05d5\u05d0"\u05dc'}]),O=Object(o.a)(j,2),y=O[0],S=(O[1],Object(n.useState)(1)),w=Object(o.a)(S,2),C=w[0],T=w[1],x=Object(n.useState)(""),D=Object(o.a)(x,2),L=D[0],H=D[1];if(Object(n.useEffect)((function(){m([]),function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(l,A(),a).then((function(e){console.log(e),e.data.error?alert("error in login"):m(e.data)}),(function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(){return console.log("found data")})).catch((function(e){return console.log(e)}))}),[C,h,L,a]),!l)return r.a.createElement(i.a,{to:"/"});var A=function(){return{search:L,sorting:"userid",desc:!1,userstatus:C,page:h}};return r.a.createElement("div",{className:"p-users"},r.a.createElement(N,{handleLogout:t}),r.a.createElement(k,{placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05de\u05e9\u05ea\u05de\u05e9",handleSearch:function(e){return function(e){H(e),g(0)}(e)},pages:u.pages,pageChange:function(e){return function(e){g(e)}(e)},currentPage:h}),r.a.createElement("div",{className:"p-users"},r.a.createElement(M,{headers:y,data:u.users,handleClick:function(t){return function(t){e.history.push({pathname:"/users/".concat(t.userid),state:{user:t}})}(t)}})),r.a.createElement(P,{buttons:[{key:1,label:"\u05e4\u05e2\u05d9\u05dc\u05d9\u05dd"},{key:0,label:"\u05dc\u05d0 \u05e4\u05e2\u05d9\u05dc\u05d9\u05dd"}],handleClick:function(e){return function(e){T(e.key),g(0),H("")}(e)},activeKey:C}))};var B=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)([]),s=Object(o.a)(i,2),m=s[0],f=s[1],E=Object(n.useState)([]),h=Object(o.a)(E,2),g=h[0],j=h[1],N=Object(n.useState)([]),k=Object(o.a)(N,2),S=k[0],w=k[1],C=Object(n.useState)([{value:"1",label:"\u05ea\u05d2\u05d9\u05ea 1"},{value:"2",label:"\u05ea\u05d2\u05d9\u05ea 2"},{value:"3",label:"\u05ea\u05d2\u05d9\u05ea 3"}]),T=Object(o.a)(C,2),x=T[0],M=T[1],D=Object(n.useState)([]),P=Object(o.a)(D,2),L=P[0],H=P[1],I=Object(n.useState)(!0),R=Object(o.a)(I,2),F=R[0],B=R[1],J=Object(n.useContext)(v),K=function(e){console.log(e.target)};if(Object(n.useEffect)((function(){var t=function(){var t=Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(J,{userId:e.user},"GetUserProfileById").then((function(e){console.log(e),e.data.error?alert("error in login"):c(e.data.profile)}),(function(e){console.error(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(J,{},"GetCities").then((function(e){console.log(e),e.data.error?alert("error in login"):f(e.data.map((function(e){return{key:e.cityid,label:e.name}})))}),(function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(J,{},"GetGenders").then((function(e){console.log(e),e.data.error?alert("error in login"):j(e.data.map((function(e){return{key:e.genderid,label:e.name}})))}),(function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(J,{},"GetReligions").then((function(e){console.log(e),e.data.error?alert("error in login"):w(e.data.map((function(e){return{key:e.religionid,label:e.name}})))}),(function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Promise.all([t(),a(),n(),r()]).then((function(e){console.log(e)}))}),[]),m.length<1&&l)return r.a.createElement(n.Fragment,null);function Y(){B(!F)}function V(e){H(L.concat(e));for(var t=0;t<x.length;t++)if(x[t].value===e.value){x.splice(t,1),M(x);break}B(!1)}function Z(e){var t=L[e],a=Object(A.a)(L);a.splice(e,1),H(a),M(x.concat(t))}function W(){var e=Object(A.a)(L);H([]),M(x.concat(e)),B(!0)}l.userid;var z=l.firstname,$=l.lastname,q=l.firstnameinarabic,Q=l.lastnameinarabic,X=l.phone,ee=l.phone2,te=l.phone2owner,ae=l.superstaffname,ne=l.tznumber,re=l.birthday,le=l.email,ce=l.cityid,oe=l.religionid,ie=l.genderid,se=l.address;return r.a.createElement(u.a,null,r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea",inputPlaceholder:z,handleChange:function(e){return K(e)}})),r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 \u05d1\u05e2\u05d1\u05e8\u05d9\u05ea",inputPlaceholder:$,handleChange:function(){return function(e){return K(e)}}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d1\u05e2\u05e8\u05d1\u05d9\u05ea",inputPlaceholder:q,handleChange:function(){return function(e){return K(e)}}})),r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4 \u05d1\u05e2\u05e8\u05d1\u05d9\u05ea",inputPlaceholder:Q,handleChange:function(){return function(e){return K(e)}}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05de\u05e1' \u05d8\u05dc\u05e4\u05d5\u05df",inputPlaceholder:X,handleChange:function(){return function(e){return K(e)}}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05de\u05e1' \u05d8\u05dc\u05e4\u05d5\u05df \u05e0\u05d5\u05e1\u05e3",inputPlaceholder:ee,handleChange:function(){return function(e){return K(e)}}})),r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05e9\u05d9\u05d9\u05da \u05dc",inputPlaceholder:te,handleChange:function(){return function(e){return K(e)}}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05ea\u05d0\u05e8\u05d9\u05da \u05dc\u05d9\u05d3\u05d4",inputPlaceholder:re,handleChange:function(){return function(e){return K(e)}}})),r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05de\u05e1\u05e4\u05e8 \u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea",inputPlaceholder:ne,handleChange:function(){return function(e){return K(e)}}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(G,{inputTitle:"\u05e2\u05d9\u05e8",handleSelection:function(){return function(e){return K(e)}},options:m,optionsKey:ce})),r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05db\u05ea\u05d5\u05d1\u05ea",inputPlaceholder:se,handleChange:function(){return function(e){return K(e)}}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(G,{inputTitle:"\u05de\u05d2\u05d6\u05e8",handleSelection:function(){return function(e){return K(e)}},options:S,optionsKey:oe})),r.a.createElement(y.a,null,r.a.createElement(G,{inputTitle:"\u05de\u05d2\u05d3\u05e8",handleSelection:function(){return function(e){return K(e)}},options:g,optionsKey:ie}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",inputPlaceholder:le,handleChange:function(){return function(e){return K(e)}}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05de\u05e0\u05d4\u05dc \u05d9\u05e9\u05d9\u05e8",inputPlaceholder:X,handleChange:function(){return function(e){return K(e)}}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(_,{inputTitle:"\u05de\u05d0\u05e9\u05e8\u05d9 \u05e9\u05e2\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd",inputPlaceholder:ae,handleChange:function(){return function(e){return K(e)}}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(U,{label:"\u05de\u05d0\u05e9\u05e8\u05d9 \u05e9\u05e2\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd",displaySelectList:function(){return Y()},hideSelectList:F,options:x,selectedOptions:L,addOption:function(e){return V(e)},deleteOption:function(e){return Z(e)},deleteAllOptions:function(){return W()}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(U,{label:"\u05ea\u05e2\u05d5\u05d3\u05d5\u05ea",displaySelectList:function(){return Y()},hideSelectList:F,options:x,selectedOptions:L,addOption:function(e){return V(e)},deleteOption:function(e){return Z(e)},deleteAllOptions:function(){return W()}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(U,{label:"\u05ea\u05e2\u05d5\u05d3\u05d5\u05ea \u05d1\u05d2\u05e8\u05d5\u05ea",displaySelectList:function(){return Y()},hideSelectList:F,options:x,selectedOptions:L,addOption:function(e){return V(e)},deleteOption:function(e){return Z(e)},deleteAllOptions:function(){return W()}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(U,{label:"\u05e9\u05d5\u05e0\u05d5\u05ea",displaySelectList:function(){return Y()},hideSelectList:F,options:x,selectedOptions:L,addOption:function(e){return V(e)},deleteOption:function(e){return Z(e)},deleteAllOptions:function(){return W()}}))),r.a.createElement(O.a,null,r.a.createElement(y.a,null,r.a.createElement(U,{label:"\u05e4\u05e8\u05d5\u05d9\u05e7\u05d8\u05d9\u05dd",displaySelectList:function(){return Y()},hideSelectList:F,options:x,selectedOptions:L,addOption:function(e){return V(e)},deleteOption:function(e){return Z(e)},deleteAllOptions:function(){return W()}}))))},J=(a(96),function(e){var t=e.userId,a=Object(n.useState)("drawable-mdpi/profile_icon.png"),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)("\u05e9\u05dd \u05d4\u05e2\u05d5\u05d1\u05d3"),u=Object(o.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),E=f[0],h=f[1],g=Object(n.useState)("\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"),j=Object(o.a)(g,2),O=j[0],y=j[1],N=Object(n.useContext)(v),k={userId:t};return Object(n.useEffect)((function(){b(N,k,"GetUserProfileById").then((function(e){console.log(e),e.data.error?console.log("error in reading from the server"):(d(e.data.profile.firstname),y(e.data.profile.lastname),h(e.data.profile.registerdate),""!=e.data.profile.image&&i("https://pil1.appleseeds.org.il/dcnir/"+e.data.profile.image))}))}),[t]),r.a.createElement("div",{className:"c_portalHeaderView"},r.a.createElement("div",{className:"container"},r.a.createElement("p",null,m),r.a.createElement("div",{className:"flextoleft"},r.a.createElement("div",{className:"firstimg"},r.a.createElement("img",{src:"drawable-mdpi/noun_back_arrow_2690272.png"})),r.a.createElement("div",{className:"secondimg"},r.a.createElement("img",{src:"drawable-mdpi/noun_copy_573715.png"})),r.a.createElement("div",{className:"thirdimg"},r.a.createElement("img",{src:"drawable-mdpi/noun_save_2429243.png"})))),r.a.createElement("p",null,O),r.a.createElement("div",{className:"changepass"},r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",id:"scales",name:"scales"}),r.a.createElement("label",{for:"scales"},"\u05e9\u05d9\u05e0\u05d5\u05d9 \u05e1\u05d9\u05e1\u05de\u05d4")),r.a.createElement("img",{src:c})),r.a.createElement("p",null,"\u05e0\u05e8\u05e9\u05dd \u05d1 : ",E," "))}),K=function(e){e.navbarTitle,e.navbarArrow;var t=e.handleLogout,a=(e.handleBack,Object(n.useContext)(v)),l=Object(i.g)().id,c=Object(n.useState)(!1),s=Object(o.a)(c,2),u=s[0],m=s[1];if(!a)return r.a.createElement(i.a,{to:"/"});if(u)return r.a.createElement(i.a,{to:"/users"});var d=[{header:"\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc",view:r.a.createElement(B,{user:l})},{header:"\u05e7\u05d5\u05e8\u05e1\u05d9\u05dd",view:r.a.createElement("p",null,"I'm courses page")},{header:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd",view:r.a.createElement("p",null,"I'm employees page")},{header:"\u05d3\u05d9\u05d5\u05d5\u05d7",view:r.a.createElement("p",null,"I'm report page")}];return r.a.createElement("div",null,r.a.createElement(N,{handleLogout:t,navbarTitle:"\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd",navbarArrow:!0,handleBack:function(){return m(!0)}}),r.a.createElement(J,{userId:l}),r.a.createElement("div",null,r.a.createElement(H,{tabsObj:d})))},Y=(a(97),a(98),a(99),a(100),function(e){var t=e.report;var a,n=function(e){try{return new Date(e.split("/").reverse().join("/"))}catch(t){return null}}(t.date);switch(t.approval){case"-1":a="not-approved";break;case"0":a="waiting";break;case"1":a="approved"}return r.a.createElement("tr",{className:a,style:{margin:"5px",width:"100%"}},r.a.createElement("td",null,n.format("dd.mm.yy")),r.a.createElement("td",null,t.projectName),r.a.createElement("td",null,t.subject),r.a.createElement("td",{style:{direction:"ltr"}},t.totalTime))}),V=function(e){var t=e.reports,a="",n=[];return null!==t&&void 0!==t&&t.forEach((function(e){n.push(r.a.createElement(Y,{report:e}))})),0===n.length&&(a="\u05d0\u05d9\u05df \u05d3\u05d9\u05d5\u05d5\u05d7\u05d9\u05dd"),r.a.createElement("div",null,r.a.createElement("table",{className:"c-hours-report-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u05ea\u05d0\u05e8\u05d9\u05da"),r.a.createElement("th",null,"\u05e4\u05e8\u05d5\u05d9\u05e7\u05d8"),r.a.createElement("th",null,"\u05e0\u05d5\u05e9\u05d0 \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea"),r.a.createElement("th",null,'\u05e1\u05d4"\u05db \u05e9\u05e2\u05d5\u05ea'))),r.a.createElement("tbody",null,n)),r.a.createElement("div",{className:"c-no-report-msg"},a))},Z=a(110),W=(a(101),function(e){var t,a=e.date?e.date:new Date,l=e.type?e.type:"month",c=Object(n.useState)(a),i=Object(o.a)(c,2),s=i[0],u=i[1],m=["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],d=function(){"day"===l?function(){var e=new Date(s.getTime());e.setDate(e.getDate()-1),u(e)}():function(){var e=s.getMonth(),t=s.getFullYear(),a=new Date(s.getTime());e>0?a.setMonth(e-1):(a.setFullYear(t-1),a.setMonth(11)),u(a)}()},p=function(){"day"===l?function(){var e=new Date(s.getTime());e.setDate(e.getDate()+1),u(e)}():function(){var e=s.getMonth(),t=s.getFullYear(),a=new Date(s.getTime());e<11?a.setMonth(e+1):(a.setFullYear(t+1),a.setMonth(0)),u(a)}()};return r.a.createElement("div",{className:"c-day-month-picker"},r.a.createElement(Z.a,{"aria-label":"Basic example"},r.a.createElement("div",{onClick:function(){return d()}},r.a.createElement("img",{src:"images/arrow-right.png",alt:"-"})),r.a.createElement("div",{className:"date-text"},(t=s,e.onShowDate(t),"day"===l?t.toLocaleDateString("en-GB"):m[t.getMonth()]+" "+t.getFullYear())),r.a.createElement("div",{onClick:function(){p()}},r.a.createElement("img",{src:"images/arrow-left.png",alt:"+"}))))}),z=(a(102),a(103),function(e){e.report;return r.a.createElement("div",{class:"c-plus-button-tool"},r.a.createElement("div",null,"+"))}),$=function(e){e.report;return r.a.createElement("div",{class:"c-toolbar-footer"},r.a.createElement(z,null))},q=function(e){var t=e.handleLogout,a=Object(n.useContext)(v),l=Object(n.useState)([]),c=Object(o.a)(l,2),i=c[0],s=c[1],u=Object(n.useState)(null),m=Object(o.a)(u,2),f=m[0],E=m[1],h=Object(n.useState)(new Date),g=Object(o.a)(h,2),j=g[0],O=g[1],y=Object(n.useState)(0),k=Object(o.a)(y,2),S=k[0],w=k[1];Object(n.useEffect)((function(){a&&function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(a,{},"GetMyReportingPerimeter").then((function(e){console.log(e.data),E(e.data),e.data.error&&alert("error in GetMyReportingPerimeter")}),(function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){a&&null!==f&&function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={month:j.getMonth()+1,year:j.getFullYear()},b(a,t,"GetReports").then((function(e){var t=0;e.data.forEach((function(e){var a=f[e.projectid];if(void 0===a)e.projectName="NA",e.subject="NA";else{e.projectName=a.projectName;var n=a.subjects.find((function(t){return t.reportsubjectid==e.actionid}));e.subject=void 0===n?"NA":n.subject}var r=new Date("January 1 2000 "+e.starthour),l=new Date("January 1 2000 "+e.finishhour)-r;t+=l;var c=Math.floor(l/1e3/60/60),o=Math.floor((l-60*c*60*1e3)/1e3/60);c=c<10?"0"+c:""+c,o=o<10?"0"+o:""+o,e.totalTime=c+":"+o})),w(t),s(e.data),console.log(e.data),console.log(i),e.data.error&&alert("error in GetReports")}),(function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[j,f]);var C='\u05e1\u05d4"\u05db \u05e9\u05e2\u05d5\u05ea:  '+Math.floor(S/1e3/60/60);return r.a.createElement("div",null,r.a.createElement(N,{handleLogout:t,navbarTitle:"\u05d3\u05d9\u05d5\u05d5\u05d7 \u05e9\u05e2\u05d5\u05ea"}),r.a.createElement(W,{onShowDate:function(e){O(e)}}),r.a.createElement("div",{className:"p-total-hours"},C),r.a.createElement(V,{reports:i}),r.a.createElement($,null))},Q=(a(104),function(e){var t=e.reportedHoursObject,a=e.changeStatus;if(!t)return null;var n=function(e){if(!e)return"pending";switch(e.status){case-1:return"rejected";case 1:return"approved";case 0:return"pending"}};return r.a.createElement("div",{className:"c-reported-hours-details-item"},r.a.createElement("div",{className:"radio-action"},r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"approved-".concat(t.id),name:"radio-group".concat(t.id),checked:"approved"===n(t)}),r.a.createElement("label",{className:"approved",for:"approved-".concat(t.id)},"\u05d0\u05e9\u05e8",r.a.createElement("div",{className:"radio approved",onClick:function(){return a(t.id,1)}},r.a.createElement("span",null)))),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"pending-".concat(t.id),name:"radio-group".concat(t.id),checked:"pending"===n(t)}),r.a.createElement("label",{className:"pending",for:"pending-   ".concat(t.id)},"\u05de\u05de\u05ea\u05d9\u05df",r.a.createElement("div",{className:"radio pending",onClick:function(){return a(t.id,0)}},r.a.createElement("span",null)))),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",id:"rejected-".concat(t.id),name:"radio-group".concat(t.id),checked:"rejected"===n(t)}),r.a.createElement("label",{className:"rejected",for:"rejected-".concat(t.id)},"\u05d3\u05d7\u05d4",r.a.createElement("div",{className:"radio rejected",onClick:function(){return a(t.id,-1)}},r.a.createElement("span",null))))),r.a.createElement("div",{className:"data ".concat(n(t))},r.a.createElement("div",{className:"header-data"},r.a.createElement("div",{className:"checkbox-div bold"},r.a.createElement("input",{type:"checkbox",id:"select"}),r.a.createElement("label",{for:"select"}," \u05ea\u05d0\u05e8\u05d9\u05da ",r.a.createElement("span",null," 19/2/2020")),r.a.createElement("label",null," \u05e1\u05d4\u05db \u05e9\u05e2\u05d5\u05ea ",r.a.createElement("span",null,"9")))),r.a.createElement("div",{className:"content-data"},r.a.createElement("div",null,r.a.createElement("label",null,"\u05e4\u05e8\u05d5\u05d9\u05e7\u05d8"),r.a.createElement("label",{className:"bold"},"\u05e9\u05dd \u05e4\u05e8\u05d5\u05d9\u05e7\u05d8")),r.a.createElement("div",null,r.a.createElement("label",null,"\u05de\u05e1/\u05e9\u05dd \u05e7\u05d5\u05e8\u05e1"),r.a.createElement("label",{className:"bold"},"\u05e9\u05dd \u05e0\u05d5\u05e9\u05d0 \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea \u05d4\u05de\u05dc\u05d0")),r.a.createElement("div",null,r.a.createElement("label",null,"\u05e0\u05d5\u05e9\u05d0 \u05e4\u05e2\u05d9\u05dc\u05d5\u05ea"),r.a.createElement("label",{className:"bold"},"\u05e9\u05dd \u05d4\u05e7\u05d5\u05e8\u05e1 \u05d4\u05de\u05dc\u05d0")))))}),X=(a(105),function(e){var t=e.workerDetails;return r.a.createElement("div",{className:"c-worker-hours-reporting-item"},r.a.createElement("div",{className:"worker-name"},t.name),r.a.createElement("div",{className:"worker-params"},r.a.createElement("div",{className:"d-inline-block hours-pending"},t.pendingHours),r.a.createElement("div",{className:"d-inline-block hours-approved"},t.approvedHours),r.a.createElement("div",{className:"d-inline-block hours-rejected"},t.rejectedHours),r.a.createElement("div",{className:"d-inline-block hours-total"},t.totalHours),r.a.createElement("div",{className:"d-inline-block"},r.a.createElement("img",{className:"open",src:"images/arrow-down.png",alt:"open"}))))}),ee=a(112),te=a(111),ae=(a(106),function(e){var t=e.handleLogout,a=Object(n.useContext)(v),l=Object(n.useState)(null),c=Object(o.a)(l,2),s=c[0],u=c[1],m=Object(n.useState)([]),f=Object(o.a)(m,2),E=f[0],h=f[1],g=Object(n.useState)([]),j=Object(o.a)(g,2),O=j[0],y=j[1],S=Object(n.useState)(0),w=Object(o.a)(S,2),C=w[0],T=(w[1],Object(n.useState)(0)),x=Object(o.a)(T,2),M=x[0],D=x[1],P=Object(n.useState)(""),L=Object(o.a)(P,2),H=(L[0],L[1]),_=Object(n.useState)(new Date),G=Object(o.a)(_,2),U=G[0],I=G[1];if(Object(n.useEffect)((function(){h(s?R(s):[])}),[s]),Object(n.useEffect)((function(){var e=[];a&&function(){var t=Object(p.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(U.getMonth(),U.getFullYear()),n={month:U.getMonth()+1,year:U.getFullYear()},b(a,n,"GetAllReporters").then((function(t){var a=0,n=0,r=0,l=180;t.data.forEach((function(t){t.reports.length>0?(a=100,n=30,r=50,l=180):(a=0,n=0,r=0,l=0);var c={id:t.userid,name:t.firstname+" "+t.lastname,status:t.status,pendingHours:a,rejectedHours:n,approvedHours:r,totalHours:l,reports:t.reports};e.push(c)})),y(e),t.data.error&&alert("error in GetAllReporters")}),(function(e){console.error(e)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[U]),!a)return r.a.createElement(i.a,{to:"/"});var R=function(e){var t=[],a=O.find((function(t){return t.id===e}));return a.reports&&a.reports.length>0&&a.reports.forEach((function(e){var a={id:e.reportid,status:parseInt(e.approval),date:e.date,noOfHours:e.finishhour-e.starthour,projectName:e.projectid,courseName:e.courseid,activitySubject:e.actionid};t.push(a)})),t},F=function(e,t){b(a,{reportids:[e],status:t,checkdate2:!0},"SetReportApproval").then((function(){var a=Object(A.a)(E);a.find((function(t){return t.id===e})).status=t,h(a)}))},B=E.map((function(e){return r.a.createElement(Q,{reportedHoursObject:e,changeStatus:F})})),J=O.map((function(e){return r.a.createElement(ee.a,null,r.a.createElement(te.a.Toggle,{as:ee.a.Header,eventKey:e.id,onClick:function(){return t=e.id,void u(t);var t}},r.a.createElement(X,{workerDetails:e})),r.a.createElement(te.a.Collapse,{eventKey:e.id},r.a.createElement(ee.a.Body,null,e.id===s?B:null)))}));return r.a.createElement("div",{className:"p-hours-approve-page"},r.a.createElement(N,{handleLogout:t,navbarTitle:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05e9\u05e2\u05d5\u05ea"}),r.a.createElement(W,{className:"month-picker",date:new Date,onShowDate:function(e){I(e)}}),r.a.createElement(k,{placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05e2\u05d5\u05d1\u05d3",pages:C,currentPage:M,handleSearch:function(e){D(0),H(e)},pageChange:function(e){D(e)}}),r.a.createElement(te.a,null,J))}),ne=(a(107),function(){var e=Object(n.useState)(localStorage.activeUser?JSON.parse(localStorage.activeUser):null),t=Object(o.a)(e,2),a=t[0],l=t[1],c=function(){l(null),localStorage.removeItem("activeUser")};return r.a.createElement(v.Provider,{value:a},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(j,{handleLogin:function(e){l(e),localStorage.activeUser=JSON.stringify(e)}})),r.a.createElement(i.b,{exact:!0,path:"/courses"},r.a.createElement(L,{handleLogout:c})),r.a.createElement(i.b,{path:"/courses/:id"},r.a.createElement(R,{handleLogout:c})),r.a.createElement(i.b,{exact:!0,path:"/users",render:function(e){return r.a.createElement(F,e)}}),r.a.createElement(i.b,{path:"/users/:id",render:function(e){return r.a.createElement(K,Object.assign({},e,{handleLogout:c}))}}),r.a.createElement(i.b,{path:"/hours-report"},r.a.createElement(q,{handleLogout:c})),r.a.createElement(i.b,{path:"/hours-approve"},r.a.createElement(ae,{handleLogout:c}))))}),re=a(14);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(re.a,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},39:function(e,t,a){},40:function(e,t,a){},54:function(e,t,a){e.exports=a(108)},60:function(e,t,a){},61:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},62:function(e,t,a){},81:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[54,1,2]]]);
//# sourceMappingURL=main.6a843db6.chunk.js.map